@using Drinks.Models.ViewModel
@model List<ProductViewModel>

@if (Model != null && Model.Any())
{
    @foreach (var product in Model)
    {
        <div class="col-md-3 mb-4">
            <div class="card h-100">
                <img src="@product.ImageUrl" class="card-img-top p-3"
                     alt="@product.Name" style="height: 200px; object-fit: contain;" />
                <div class="card-body">
                    <h5 class="card-title">@product.Name</h5>
                    <p class="card-text">
                        @product.Price.ToString("C")<br />
                        @if (product.Quantity > 0)
                        {
                            <span class="text-success">В наличии</span>
                        }
                        else
                        {
                            <span class="text-danger">Нет в наличии</span>
                        }
                    </p>
                    <button class="btn @(product.IsInCart ? "btn-success" : "btn-primary") add-to-cart"
                            data-product-id="@product.Id"
                            disabled="@(product.Quantity == 0 || product.IsInCart)">
                        @(product.Quantity == 0 ? "Нет в наличии" : product.IsInCart ? "Добавлено" : "В корзину")
                    </button>
                </div>
            </div>
        </div>
    }
}
else
{
    <div class="col-12">
        <div class="alert alert-info">Нет доступных товаров</div>
    </div>
}
